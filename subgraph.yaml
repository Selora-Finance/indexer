specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: PoolFactory
    network: fluent-testnet
    source:
      abi: PoolFactory
      address: "0x57086f4122471783E78A72Bd2aE8db74cb5c403A"
      startBlock: 5987331
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Pool
        - Bundle
      abis:
        - name: PoolFactory
          file: ./abis/V2PoolFactory.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: Oracle
          file: ./abis/Oracle.json
      eventHandlers:
        - event: PoolCreated(indexed address,indexed address,indexed bool,address,uint256)
          handler: handlePoolCreated
      file: ./src/handlers/base/V2PoolFactory.ts
  - kind: ethereum
    name: CLFactory
    network: fluent-testnet
    source:
      abi: CLFactory
      address: "0x74359B347D1225377577091392360C3FA0464468"
      startBlock: 6051145
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Pool
        - Bundle
      abis:
        - name: CLFactory
          file: ./abis/V3PoolFactory.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: Oracle
          file: ./abis/Oracle.json
      eventHandlers:
        - event: PoolCreated(indexed address,indexed address,indexed int24,address)
          handler: handlePoolCreated
      file: ./src/handlers/base/CLFactory.ts
  - kind: ethereum
    name: Voter
    network: fluent-testnet
    source:
      abi: Voter
      address: "0x15227B716624d73f455dAd6D5931017fF6E19bE9"
      startBlock: 5987397
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Gauge
        - VotingRewards
      abis:
        - name: Voter
          file: ./abis/Voter.json
      eventHandlers:
        - event: GaugeCreated(indexed address,indexed address,indexed
            address,address,address,address,address,address)
          handler: handleGaugeCreated
        - event: GaugeKilled(indexed address)
          handler: handleGaugeKilled
        - event: GaugeRevived(indexed address)
          handler: handleGaugeRevived
        - event: Voted(indexed address,indexed address,indexed
            uint256,uint256,uint256,uint256)
          handler: handleVoted
      file: ./src/handlers/voting/Voter.ts
  - kind: ethereum
    name: VotingEscrow
    network: fluent-testnet
    source:
      abi: VotingEscrow
      address: "0xB8cB2492ebA6dBac44f89bF994Be602249015026"
      startBlock: 5987368
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - LockPosition
      abis:
        - name: VotingEscrow
          file: ./abis/VotingEscrow.json
      eventHandlers:
        - event: CreateManaged(indexed address,indexed uint256,indexed
            address,address,address)
          handler: handleCreateManaged
        - event: Deposit(indexed address,indexed uint256,indexed
            uint8,uint256,uint256,uint256)
          handler: handleDeposit
        - event: DepositManaged(indexed address,indexed uint256,indexed
            uint256,uint256,uint256)
          handler: handleDepositManaged
        - event: LockPermanent(indexed address,indexed uint256,uint256,uint256)
          handler: handleLockPermanent
        - event: Merge(indexed address,indexed uint256,indexed
            uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleMerge
        - event: Split(indexed uint256,indexed uint256,indexed
            uint256,address,uint256,uint256,uint256,uint256)
          handler: handleSplit
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
        - event: UnlockPermanent(indexed address,indexed uint256,uint256,uint256)
          handler: handleUnlockPermanent
        - event: Withdraw(indexed address,indexed uint256,uint256,uint256)
          handler: handleWithdraw
        - event: WithdrawManaged(indexed address,indexed uint256,indexed
            uint256,uint256,uint256)
          handler: handleWithdrawManaged
      file: ./src/handlers/voting/VotingEscrow.ts
  - kind: ethereum
    name: NonfungiblePositionManager
    network: fluent-testnet
    source:
      abi: NonfungiblePositionManager
      address: "0x24e95fe9fF4D4F988911cfd9A5D9443b3E640C22"
      startBlock: 6051182
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - LiquidityPosition
        - Gauge
      abis:
        - name: NonfungiblePositionManager
          file: ./abis/NFPM.json
      eventHandlers:
        - event: DecreaseLiquidity(indexed uint256,uint128,uint256,uint256)
          handler: handleDecreaseLiquidity
        - event: IncreaseLiquidity(indexed uint256,uint128,uint256,uint256)
          handler: handleIncreaseLiquidity
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
      file: ./src/handlers/base/NFPM.ts
templates:
  - name: Pool
    kind: ethereum
    network: fluent-testnet
    source:
      abi: V2Pool
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Pool
      abis:
        - name: V2Pool
          file: ./abis/V2Pool.json
        - name: Oracle
          file: ./abis/Oracle.json
      eventHandlers:
        - event: Swap(indexed address,indexed address,uint256,uint256,uint256,uint256)
          handler: handleSwap
        - event: Burn(indexed address,indexed address,uint256,uint256)
          handler: handleBurn
        - event: Mint(indexed address,uint256,uint256)
          handler: handleMint
        - event: Fees(indexed address,uint256,uint256)
          handler: handleFees
        - event: Sync(uint256,uint256)
          handler: handleSync
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/handlers/core/V2Pools.ts
  - name: CLPool
    kind: ethereum
    network: fluent-testnet
    source:
      abi: CLPool
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Pool
      abis:
        - name: CLPool
          file: ./abis/V3Pool.json
        - name: Oracle
          file: ./abis/Oracle.json
      eventHandlers:
        - event: Swap(indexed address,indexed address,int256,int256,uint160,uint128,int24)
          handler: handleSwap
        - event: Burn(indexed address,indexed int24,indexed int24,uint128,uint256,uint256)
          handler: handleBurn
        - event: Mint(address,indexed address,indexed int24,indexed
            int24,uint128,uint256,uint256)
          handler: handleMint
      file: ./src/handlers/core/CLPools.ts
  - name: Gauge
    kind: ethereum
    network: fluent-testnet
    source:
      abi: Gauge
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Gauge
      abis:
        - name: Gauge
          file: ./abis/Gauge.json
      eventHandlers:
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
        - event: Deposit(indexed address,indexed address,uint256)
          handler: handleDeposit
        - event: NotifyReward(indexed address,uint256)
          handler: handleNotifyReward
        - event: ClaimRewards(indexed address,uint256)
          handler: handleClaimRewards
      file: ./src/handlers/staking/Gauge.ts
  - name: CLGauge
    kind: ethereum
    network: fluent-testnet
    source:
      abi: CLGauge
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Gauge
      abis:
        - name: CLGauge
          file: ./abis/CLGauge.json
      eventHandlers:
        - event: Withdraw(indexed address,indexed uint256,indexed uint128)
          handler: handleWithdraw
        - event: Deposit(indexed address,indexed uint256,indexed uint128)
          handler: handleDeposit
        - event: NotifyReward(indexed address,uint256)
          handler: handleNotifyReward
        - event: ClaimRewards(indexed address,uint256)
          handler: handleClaimRewards
      file: ./src/handlers/staking/CLGauge.ts
  - name: VotingReward
    kind: ethereum
    network: fluent-testnet
    source:
      abi: VotingReward
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - VotingReward
      abis:
        - name: VotingReward
          file: ./abis/VotingReward.json
      eventHandlers:
        - event: NotifyReward(indexed address,indexed address,indexed uint256,uint256)
          handler: handleNotifyReward
        - event: ClaimRewards(indexed address,indexed address,uint256)
          handler: handleClaimRewards
      file: ./src/handlers/voting/VotingReward.ts
