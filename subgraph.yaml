specVersion: 1.0.0
indexerHints:
    prune: auto
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum
      name: PoolFactory
      network: mainnet
      source:
          address: '0xAa97c394C26c122F926fEB015237C82a62A98D51'
          abi: PoolFactory
          startBlock: 3803585
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Pool
              - Bundle
          abis:
              - name: PoolFactory
                file: ./abis/V2PoolFactory.json
              - name: ERC20
                file: ./abis/ERC20.json
              - name: Oracle
                file: ./abis/Oracle.json
          eventHandlers:
              - event: PoolCreated(indexed address,indexed address,indexed bool,address,uint256)
                handler: handlePoolCreated
          file: ./src/handlers/base/V2PoolFactory.ts
    - kind: ethereum
      name: CLFactory
      network: mainnet
      source:
          address: '0x6c777E33960A4530c5117090113c08378F7047b4'
          abi: CLFactory
          startBlock: 3803585
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Pool
              - Bundle
          abis:
              - name: CLFactory
                file: ./abis/V3PoolFactory.json
              - name: ERC20
                file: ./abis/ERC20.json
              - name: Oracle
                file: ./abis/Oracle.json
          eventHandlers:
              - event: PoolCreated(indexed address,indexed address,indexed int24,address)
                handler: handlePoolCreated
          file: ./src/handlers/base/CLFactory.ts
    - kind: ethereum
      name: Voter
      network: mainnet
      source:
          address: '0xfdA9d44baa83D12859A062703603FcC0e2820837'
          abi: Voter
          startBlock: 3803585
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Abstained
              - DistributeReward
              - GaugeCreated
              - GaugeKilled
              - GaugeRevived
              - NotifyReward
              - Voted
              - WhitelistNFT
              - WhitelistToken
          abis:
              - name: Voter
                file: ./abis/Voter.json
          eventHandlers:
              - event: Abstained(indexed address,indexed address,indexed uint256,uint256,uint256,uint256)
                handler: handleAbstained
              - event: DistributeReward(indexed address,indexed address,uint256)
                handler: handleDistributeReward
              - event: GaugeCreated(indexed address,indexed address,indexed
                    address,address,address,address,address,address)
                handler: handleGaugeCreated
              - event: GaugeKilled(indexed address)
                handler: handleGaugeKilled
              - event: GaugeRevived(indexed address)
                handler: handleGaugeRevived
              - event: NotifyReward(indexed address,indexed address,uint256)
                handler: handleNotifyReward
              - event: Voted(indexed address,indexed address,indexed uint256,uint256,uint256,uint256)
                handler: handleVoted
              - event: WhitelistNFT(indexed address,indexed uint256,indexed bool)
                handler: handleWhitelistNFT
              - event: WhitelistToken(indexed address,indexed address,indexed bool)
                handler: handleWhitelistToken
          file: ./src/handlers/voting/Voter.ts
    - kind: ethereum
      name: VotingEscrow
      network: mainnet
      source:
          address: '0x92eC9EE67675E672520f0804F23dD9f372bfb855'
          abi: VotingEscrow
          startBlock: 3803585
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Approval
              - ApprovalForAll
              - BatchMetadataUpdate
              - CreateManaged
              - DelegateChanged
              - DelegateVotesChanged
              - Deposit
              - DepositManaged
              - LockPermanent
              - Merge
              - MetadataUpdate
              - SetAllowedManager
              - Split
              - Supply
              - Transfer
              - UnlockPermanent
              - Withdraw
              - WithdrawManaged
          abis:
              - name: VotingEscrow
                file: ./abis/VotingEscrow.json
          eventHandlers:
              - event: Approval(indexed address,indexed address,indexed uint256)
                handler: handleApproval
              - event: ApprovalForAll(indexed address,indexed address,bool)
                handler: handleApprovalForAll
              - event: BatchMetadataUpdate(uint256,uint256)
                handler: handleBatchMetadataUpdate
              - event: CreateManaged(indexed address,indexed uint256,indexed address,address,address)
                handler: handleCreateManaged
              - event: DelegateChanged(indexed address,indexed uint256,indexed uint256)
                handler: handleDelegateChanged
              - event: DelegateVotesChanged(indexed address,uint256,uint256)
                handler: handleDelegateVotesChanged
              - event: Deposit(indexed address,indexed uint256,indexed uint8,uint256,uint256,uint256)
                handler: handleDeposit
              - event: DepositManaged(indexed address,indexed uint256,indexed uint256,uint256,uint256)
                handler: handleDepositManaged
              - event: LockPermanent(indexed address,indexed uint256,uint256,uint256)
                handler: handleLockPermanent
              - event: Merge(indexed address,indexed uint256,indexed
                    uint256,uint256,uint256,uint256,uint256,uint256)
                handler: handleMerge
              - event: MetadataUpdate(uint256)
                handler: handleMetadataUpdate
              - event: SetAllowedManager(indexed address)
                handler: handleSetAllowedManager
              - event: Split(indexed uint256,indexed uint256,indexed
                    uint256,address,uint256,uint256,uint256,uint256)
                handler: handleSplit
              - event: Supply(uint256,uint256)
                handler: handleSupply
              - event: Transfer(indexed address,indexed address,indexed uint256)
                handler: handleTransfer
              - event: UnlockPermanent(indexed address,indexed uint256,uint256,uint256)
                handler: handleUnlockPermanent
              - event: Withdraw(indexed address,indexed uint256,uint256,uint256)
                handler: handleWithdraw
              - event: WithdrawManaged(indexed address,indexed uint256,indexed uint256,uint256,uint256)
                handler: handleWithdrawManaged
          file: ./src/handlers/voting/VotingEscrow.ts
    - kind: ethereum
      name: NonfungiblePositionManager
      network: mainnet
      source:
          address: '0x1CC255Fb449181ae46Ee302D108549ba8B67752B'
          abi: NonfungiblePositionManager
          startBlock: 3803585
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - LiquidityPosition
              - Gauge
          abis:
              - name: NonfungiblePositionManager
                file: ./abis/NFPM.json
          eventHandlers:
              - event: DecreaseLiquidity(indexed uint256,uint128,uint256,uint256)
                handler: handleDecreaseLiquidity
              - event: IncreaseLiquidity(indexed uint256,uint128,uint256,uint256)
                handler: handleIncreaseLiquidity
              - event: Transfer(indexed address,indexed address,indexed uint256)
                handler: handleTransfer
          file: ./src/handlers/base/NFPM.ts
templates:
    - name: Pool
      kind: ethereum
      network: mainnet
      source:
          abi: V2Pool
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Pool
          abis:
              - name: V2Pool
                file: ./abis/V2Pool.json
          eventHandlers:
              - event: Swap(indexed address,indexed address,uint256,uint256,uint256,uint256)
                handler: handleSwap
              - event: Burn(indexed address,indexed address,uint256,uint256)
                handler: handleBurn
              - event: Mint(indexed address,uint256,uint256)
                handler: handleMint
              - event: Fees(indexed address,uint256,uint256)
                handler: handleFees
              - event: Sync(uint256,uint256)
                handler: handleSync
          file: ./src/handlers/core/V2Pools.ts
    - name: CLPool
      kind: ethereum
      network: mainnet
      source:
          abi: CLPool
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Pool
          abis:
              - name: CLPool
                file: ./abis/V3Pool.json
          eventHandlers:
              - event: Swap(indexed address,indexed address,int256,int256,uint160,uint128,int24)
                handler: handleSwap
              - event: Burn(indexed address,indexed int24,indexed int24,uint128,uint256,uint256)
                handler: handleBurn
              - event: Mint(address,indexed address,indexed int24,indexed int24,uint128,uint256,uint256)
                handler: handleMint
          file: ./src/handlers/core/CLPools.ts
    - name: Gauge
      kind: ethereum
      network: mainnet
      source:
          abi: Gauge
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Gauge
          abis:
              - name: Gauge
                file: ./abis/Gauge.json
          eventHandlers:
              - event: Withdraw(indexed address,uint256)
                handler: handleWithdraw
              - event: Deposit(indexed address,indexed address,uint256)
                handler: handleDeposit
              - event: NotifyReward(indexed address,uint256)
                handler: handleNotifyReward
              - event: ClaimRewards(indexed address,uint256)
                handler: handleClaimRewards
          file: ./src/handlers/staking/Gauge.ts
    - name: CLGauge
      kind: ethereum
      network: mainnet
      source:
          abi: CLGauge
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Gauge
          abis:
              - name: CLGauge
                file: ./abis/CLGauge.json
          eventHandlers:
              - event: Withdraw(indexed address,indexed uint256,indexed uint128)
                handler: handleWithdraw
              - event: Deposit(indexed address,indexed uint256,indexed uint128)
                handler: handleDeposit
              - event: NotifyReward(indexed address,uint256)
                handler: handleNotifyReward
              - event: ClaimRewards(indexed address,uint256)
                handler: handleClaimRewards
          file: ./src/handlers/staking/CLGauge.ts
    - name: VotingReward
      kind: ethereum
      network: mainnet
      source:
          abi: VotingReward
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - VotingReward
          abis:
              - name: VotingReward
                file: ./abis/VotingReward.json
          eventHandlers:
              - event: NotifyReward(indexed address,indexed address,indexed uint256,uint256)
                handler: handleNotifyReward
              - event: ClaimRewards(indexed address,indexed address,uint256)
                handler: handleClaimReward
          file: ./src/handlers/voting/VotingReward.ts
